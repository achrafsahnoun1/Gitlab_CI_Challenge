variables:
  HUGO_IMAGE: klakegg/hugo:0.107.0-ext-ubuntu-onbuild
  ENVIRONMENT: draft
  GIT_DEPTH: 1
  GIT_SUBMODULE_STRATEGY: recursive
  GIT_SUBMODULE_DEPTH: 1

stages:
  - build 🔨
  - package 📦
  - deploy 🌍

build:
  stage: build 🔨
  tags:
    - build-runner
  image:
    name: $HUGO_IMAGE
    entrypoint: [""]
  script:
    - echo "TODO"

package:
  stage: package 📦
  tags:
    - build-runner
  image:
    name: gcr.io/kaniko-project/executor:v1.9.0-debug
    entrypoint: [""]
  script: 
    - echo "TODO"

deploy:
  stage: deploy 🌍
  environment: 
    name: $ENVIRONMENT
  tags:
    - deploy-runner
  script:
    - echo "TODO"

